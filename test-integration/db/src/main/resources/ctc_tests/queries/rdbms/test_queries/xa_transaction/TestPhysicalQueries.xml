<?xml version="1.0" encoding="UTF-8"?>
<root>

<!--  * =====================================================================*   -->
<!--  *    Testing simple transactions                     *   -->
<!--  * =====================================================================* -->

<query name="TestQuery1">delete from pm1.g2</query>
<query name="TestQuery2">delete from pm1.g1</query>


<query name="TestQuery5">
	<sql updatecnt="1">insert into pm1.g1 (e1, e2) values(?, ?)      
		<parm type="integer">1000</parm>
		<parm type="string">'blah'</parm>
	</sql>
	<sql>select * from pm1.g1 where e1 = 1000</sql>
</query>

<query name="TestQuery6">
	<sql updatecnt="1">insert into pm1.g1 (e1, e2) values(?, ?)      
		<parm type="integer">2000</parm>
		<parm type="string">'blah2'</parm>
	</sql>
	<sql updatecnt="1">update pm1.g1 set e2='blah2_updated' where e1 = ?
		<parm type="integer">2000</parm>
	</sql>
	<sql>select * from pm1.g1 where e2 = 'blah_updated'</sql>
</query>


<query name="TestQuery7">
	<sql updatecnt="1">insert into pm1.g1 (e1, e2) values(?, ?)      
		<parm type="integer">3000</parm>
		<parm type="string">'USA'</parm>
	</sql>
	<sql rowCount="1">select * from pm1.g1 where e1 = 3000</sql>
	<sql updatecnt="1">delete from pm1.g1 where pm1.g1.e1 = 3000</sql>
	<sql rowCount="0">select * from pm1.g1 where e1 = 3000</sql>
</query>

<query name="TestQuery8">
	<sql updatecnt="1">insert into pm1.g1 (e1, e2) values(?, ?)      
		<parm type="integer">4000</parm>
		<parm type="string">'USA'</parm>
	</sql>
	<sql updatecnt="1">insert into pm1.g2 (e1, e2) values(?, ?)      
		<parm type="integer">4000</parm>
		<parm type="string">'Missouri'</parm>
	</sql>

	<sql rowCount="1">select a.* from pm1.g1 as a, pm1.g2 as b where a.e1 = 4000 and a.e1=b.e1</sql>   

</query>

<query name="TestQuery9">
	<sql rowCount="1">select a.* from pm1.g1 as a, pm1.g2 as b where a.e1 = 4000 and a.e1=b.e1</sql>   
	<sql updatecnt="1">delete from pm1.g2 where pm1.g2.e1 = 4000</sql>
	<sql updatecnt="1">delete from pm1.g1 where pm1.g1.e1 = 4000</sql>    
	<sql rowCount="0">select a.* from pm1.g1 as a, pm1.g2 as b where a.e1 = 4000 and a.e1=b.e1</sql> 
</query>

<xquery name="TestQuery10">
	<sql rowCount="1">select a.* from pm1.g1 as a, pm1.g2 as b where a.e1 = 4000 and a.e1=b.e1</sql>   
</xquery>
</root>

