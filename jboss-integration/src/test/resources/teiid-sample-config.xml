<subsystem xmlns="urn:jboss:domain:teiid:1.0">
        <allow-env-function>false</allow-env-function>
        <async-thread-group>teiid-async</async-thread-group>

        <buffer-service>
            <use-disk>true</use-disk>
            <processor-batch-size>512</processor-batch-size>
            <connector-batch-size>1024</connector-batch-size>
            <max-processing-kb>-1</max-processing-kb>
            <max-reserve-kb>-1</max-reserve-kb>
            <max-file-size>2048</max-file-size>
            <max-buffer-space>51200</max-buffer-space>
            <max-open-files>64</max-open-files>
        </buffer-service>
        <!-- 
        <authorization-validator-module>javax.api</authorization-validator-module>
        <policy-decider-module>javax.api</policy-decider-module>
         -->
        <distributed-cache-factory>
            <cache-service-jndi-name>java:TeiidCacheManager</cache-service-jndi-name>
            <resultsetCacheName>teiid-resultset-cache</resultsetCacheName>
        </distributed-cache-factory>
        
        <resultset-cache>
            <maxEntries>1024</maxEntries>
            <maxAgeInSeconds>7200</maxAgeInSeconds>
            <maxStaleness>60</maxStaleness>
            <type>EXPIRATION</type>
            <location>resultset</location>
        </resultset-cache>
        
        <preparedplan-cache>
            <maxEntries>512</maxEntries>
            <maxAgeInSeconds>28800</maxAgeInSeconds>
            <maxStaleness>0</maxStaleness>
        </preparedplan-cache>    
    
    <query-engine name="default">
        <max-threads>64</max-threads>
        <max-active-plans>20</max-active-plans>
        <thread-count-for-source-concurrency>0</thread-count-for-source-concurrency>
        <time-slice-in-millseconds>2000</time-slice-in-millseconds>
        <max-row-fetch-size>20480</max-row-fetch-size>
        <lob-chunk-size-in-kb>100</lob-chunk-size-in-kb>
        <query-threshold-in-seconds>600</query-threshold-in-seconds>
        <max-source-rows-allowed>-1</max-source-rows-allowed>
        <exception-on-max-source-rows>true</exception-on-max-source-rows>
        <max-odbc-lob-size-allowed>5242880</max-odbc-lob-size-allowed>
        <event-distributor-name>teiid/event-distributor</event-distributor-name>
        <detect-change-events>true</detect-change-events>
        <security-domain>teiid-security</security-domain>
        <security-domain>teiid-security2</security-domain>
        <max-sessions-allowed>5000</max-sessions-allowed>
        <sessions-expiration-timelimit>0</sessions-expiration-timelimit>
                
        <jdbc>
            <maxSocketThreads>0</maxSocketThreads>
            <inputBufferSize>0</inputBufferSize>
            <outputBufferSize>0</outputBufferSize>
            <socket-binding>teiid-jdbc</socket-binding>
        </jdbc>

        <odbc>
            <maxSocketThreads>0</maxSocketThreads>
            <inputBufferSize>0</inputBufferSize>
            <outputBufferSize>0</outputBufferSize>
            <socket-binding>teiid-odbc</socket-binding>
        </odbc>
    </query-engine>
    
    <query-engine name="alternate"/>

</subsystem>