<!-- If susbsytem is already defined, only copy the contents under it and edit to suit your needs -->
<subsystem xmlns="urn:jboss:domain:datasources:1.0">
    <datasources>
        <xa-datasource jndi-name="java:/db2DS" pool-name="db2DS" enabled="true" use-java-context="true" use-ccm="true">
        
            <xa-datasource-property name="PortNumber">3306</xa-datasource-property>
            <xa-datasource-property name="DatabaseName">{db-name}</xa-datasource-property>
            <xa-datasource-property name="ServerName">{host}</xa-datasource-property>        
            
            <driver>db2</driver>
            
            <!-- 
            <new-connection-sql>select 1/new-connection-sql>
            <transaction-isolation>TRANSACTION_READ_COMMITTED</transaction-isolation>
             -->
                     
            <xa-pool>
                <min-pool-size>10</min-pool-size>
                <max-pool-size>20</max-pool-size>
                <is-same-rm-override>true</is-same-rm-override>
                <prefill>false</prefill>
                <use-strict-min>false</use-strict-min>
                <flush-strategy>FailingConnectionOnly</flush-strategy>
                <no-tx-separate-pools/>
            </xa-pool>

            <security>
                <user-name>{user}</user-name>
                <password>{password}</password>
                <!-- 
                <security-domain>mysecurity-realm</security-domain>
                -->
            </security>
             
            <!-- 
            <validation>
                <check-valid-connection-sql>select 1</check-valid-connection-sql>
            </validation>
             -->
        </xa-datasource>                
        <drivers>
            <driver name="db2" module="com.ibm.db2">
                <driver-class>com.ibm.db2.jcc.DB2Driver</driver-class>
                <xa-datasource-class>com.ibm.db2.jcc.DB2XADataSource</xa-datasource-class>
            </driver>    
        </drivers>
    </datasources>
</subsystem>